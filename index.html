<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ç»™å¨˜äº²ç‘¶ç‘¶çš„ç¢ç¢å¿µ</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: url('./bg.png') center/cover;
            overflow: hidden;
            position: relative;
        }

        .letter-container {
            position: absolute;
            bottom: -100%;
            width: 100%;
            height: 100vh;
            overflow-y: auto;
            animation: riseUp 8s ease-out forwards;
            display: none; /* åˆå§‹éšè— */
        }

        .letter-content {
            width: 800px; /* è°ƒæ•´å®½åº¦ */
            margin: 100px auto;
            padding: 60px; /* è°ƒæ•´å†…è¾¹è· */
            background: rgba(255, 245, 230, 0.9);
            border-radius: 15px; /* è°ƒæ•´åœ†è§’ */
            box-shadow: 0 0 30px rgb(232, 229, 229); /* è°ƒæ•´é˜´å½± */
            line-height: 1.8;
            font-family: 'æ¥·ä½“', cursive;
            font-size: 24px; /* è°ƒæ•´å­—ä½“å¤§å° */
        }

        .audio-permission {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 245, 230, 0.9);
            padding: 40px 80px; /* è°ƒæ•´å†…è¾¹è· */
            border-radius: 15px; /* è°ƒæ•´åœ†è§’ */
            box-shadow: 0 0 30px rgba(0,0,0,0.1); /* è°ƒæ•´é˜´å½± */
            text-align: center;
            z-index: 1000;
            cursor: pointer;
            font-size: 24px; /* è°ƒæ•´å­—ä½“å¤§å° */
        }

        #fireworks {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            mix-blend-mode: screen; /* æ·»åŠ æ··åˆæ¨¡å¼ä½¿çƒŸèŠ±æ›´è‡ªç„¶ */
            display: none; /* åˆå§‹éšè— */
        }

        @keyframes riseUp {
            0% {
                bottom: -100%;
                opacity: 0;
            }
            100% {
                bottom: 0;
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯éŸ³ä¹ -->
    <div class="audio-permission" id="audioPrompt">
        <p>ğŸŒ¸ è½»è§¦æ­¤å¤„å¼€å¯è¯—æ„æ—¶å…‰</p>
    </div>

    <audio id="bgMusic" loop>
        <source src="./mhsw.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <!-- ä¿¡ä»¶å†…å®¹ -->
    <div class="letter-container" id="letterContainer">
        <div class="letter-content">
            <h2 style="text-align: center;">é›ªå»äº‘ç¬º</h2>
            <!-- è¿™é‡Œæ”¾å…¥ä½ çš„ä¿¡ä»¶å†…å®¹ -->
            <p>äº²çˆ±çš„å¨˜äº²ç‘¶ç‘¶ï¼š</p>
            <p>å½“è…ŠæœˆäºŒåå…«çš„å­å¤œçƒŸèŠ±åœ¨ç»ç’ƒä¸Šç‚¸å¼€ç¬¬ä¸€æœµè“ç»£çƒæ—¶ï¼Œæˆ‘æ­£å¯¹ç€çª—è§’çš„å†°éœœå“ˆæ°”ï¼Œå¥½ä¼¼çœ‹è§åä¸ƒå²çš„æˆ‘ä»¬è¸©ç€ç››å¤è‰é¸£ï¼Œä»èåŒ–çš„å†°çº¹é‡Œè½»ç›ˆè·ƒå‡ºã€‚æœ‰æ—¶å€™ä½ æ ¡æœå£è¢‹æ€»å¡ç€ä¸€äº›é›¶é›¶ç¢ç¢çš„ç³–å’Œå…¶ä»–åƒçš„ï¼Œæˆ‘è¯¾æ¡Œæ·±å¤„è—ç€ä¸€æ²“å„ç§é¢œè‰²çš„ç¬”å†™çš„æ­Œè¯æœ¬ï¼Œæ•°å­¦å·å­ä¸‹å‹ç€åŠæœ¬ã€ŠèŠ±ç«ã€‹ã€‚æˆ‘è¿˜è®°å¾—æ¯æ¬¡æ™šè‡ªä¹ åœç”µï¼Œæ•´ä¸ªæ¥¼é‡Œæ€»æ˜¯â€œä¸¤å²¸çŒ¿å£°å•¼ä¸ä½â€ï¼ŒåŸæ¥å‘½è¿æ—©å°†ç¦»åˆ«å†™æˆç«¥è¯çš„åºç« ï¼Œè€Œæˆ‘ä»¬éƒ½æ˜¯ä¼ç¬”é‡Œå‘å…‰çš„é€—å·ï¼Œè‡³ä»Šâ€œè½»èˆŸå·²è¿‡ä¸‡é‡å±±â€ã€‚</p>
            <p>å¦‚æœŸè€Œè‡³çš„é«˜è€ƒå¥½åƒå¹¶æ²¡æœ‰ç‰¹åˆ«çš„æ¢å¼˜ç››å¤§ï¼Œæˆ‘ä»¬å„è‡ªè€ƒå®Œä¾¿åˆ†é“æ‰¬é•³ï¼Œåªè§‰ç»“æŸäº†ä¸‰å¹´çš„æŠ˜ç£¨ï¼Œä¹Ÿç»“æŸäº†å°‘å¹´çš„ç››å¤â€”â€”åæ¥æˆ‘ä»¬æˆäº†å€™é¸Ÿåˆ†é£çš„ä¿¡ç¬ºã€‚ä½ åœ¨åŒ—æ¬§æ£®æ—è£¹ç€ç¾Šæ¯›æ¯¯è®°å½•æå…‰æ³¢é•¿æ—¶ï¼Œæˆ‘æ­£åœ¨é¸£æ²™å±±è„šæ¡æ‹¾è¢«é£æ²™æ‰“ç£¨åƒå¹´çš„ç¢ç“·ï¼Œä¸åŒæ—¶ç©ºäº¤ç»‡ä¸‹ï¼Œæˆ‘ä»¬å„è‡ªå†™ç€è‡ªå·±çš„æ•…äº‹ã€‚å…¶å®é‚£æ—¶å€™ï¼Œæˆ‘è¿˜ä»¥ä¸ºé’æ˜¥ä¼šåƒæ–­çº¿çš„çº¸é¸¢å å…¥äº‘æµ·......ç›´åˆ°æŸä¸ªå‚æ™šï¼Œä½ çš„æ¶ˆæ¯çªç„¶æ’è¿›å±å¹•ã€‚æš®è‰²æ­£åœ¨æˆ‘çª—å°æµæ·Œæˆèœœç³–è‰²ï¼Œå½“ä½ éœ€è¦æˆ‘çš„æ—¶å€™ï¼Œæˆ‘ä»æœªå¦‚æ­¤å…´å¥‹è¿‡ã€‚åŸæ¥æ—¶å…‰ä»æœªèµ°æ•£ï¼Œå®ƒåªæ˜¯æ‚„æ‚„èœ·ç¼©æˆæ¯›çº¿çƒï¼Œç­‰æŸä¸ªèµ·é£çš„å¤œæ™šçªç„¶æ»šåˆ°è„šè¾¹ï¼ŒæŠ–è½ä¸€åœ°ç»†ç¢çš„æ˜Ÿå°˜ã€‚</p>
            <p>ç°åœ¨ä½ æ‰‹æ§äºˆæˆ‘ç™½ç«ç‘°çš„é¦™å‘³æ­£åœ¨æˆ‘çš„ä¹¦æ¡Œä¸Šè”“å»¶ï¼Œæˆ‘ä»¬ç›¸è·å‡ åé‡Œï¼Œä½ åœ¨åŸåŒ—å°æ‘é‡Œçœ‹é˜–å®¶æ¬¢ä¹ï¼Œæˆ‘åœ¨åŸå—å°å±‹ä¸­ç…®é…’é…¿ä¸¸å­ï¼Œä¹Ÿè½»å—…ç«ç‘°çš„èŠ³é¦™ã€‚å¯¹äº†ï¼Œä¸€ä¼šå„¿æˆ‘å°±è¦æ”¾ç¯äº†ï¼Œæ„¿æ–°å¹´å¦‚æˆ‘ä»¬æ‰‹ä¸­æœªæ”¾çš„å¤©ç¯ï¼Œç››æ»¡æ‰€æœ‰æœªå¯å°çš„é»æ˜ï¼Œé£˜é¦™æˆ‘ä»¬çš„æœªæ¥ï¼Œå¨˜äº²~~~è¿™ä¸ä¼šæ˜¯æˆ‘ä»¬çš„æœ€åä¸€ä¸ªæ˜¥èŠ‚ï¼Œæˆ‘ä»¬å‡ ä¸ªè¦åœ¨ä¸€èµ·çš„æ›´è¿œï¼Œå†è¿œä¸€ç‚¹~æœªæ¥å·²æ¥ï¼Œä¸€èµ·èµ°å…¥é‚£ç‰‡æ¢¦å¹»é£˜æ¸ºçš„å‰ç¨‹å§~</p>
            <p>æ–°å¹´é’Ÿå£°æ¼«è¿‡å±‹æªæ—¶ï¼Œæ„¿æˆ‘ä»¬ç»§ç»­åšé“¶æ²³ç³»æ¼«æ¸¸çš„é‡å­©å­ã€‚æŠŠæ²¡æ¥å¾—åŠåˆ†äº«çš„åå››æ¬¡è½æ—¥æŠ˜æˆä¼šå‘å…‰çš„åƒçº¸é¹¤ï¼Œå°†é”™è¿‡çš„ç”Ÿæ—¥æ­Œå­˜åœ¨è´å£³é‡Œç­‰æ½®æ±æ’­æ”¾ï¼Œè®©è¥¿ä¼¯åˆ©äºšé“è·¯çš„æ±½ç¬›ä¸æ±Ÿå—ä¹Œç¯·èˆ¹çš„æ‘‡æ©¹å£°åœ¨æ™¨æ˜çº¿è½»è½»ç›¸æ’ã€‚ä¸å¿…è¯´è¿™äº›å¹´ç‹¬è‡ªç©¿è¶Šäº†å¤šå°‘åœºæš´é›ªï¼Œä½ çœ‹çª—å¤–æ–°é›ªç°Œç°Œè½ä¸‹æ—¶ï¼Œæ‰€æœ‰ç¦»æ•£çš„å²æœˆéƒ½åœ¨æ‚„ç„¶è¿”èˆªã€‚</p>
            <!-- æ›´å¤šæ®µè½ -->
            <p style="text-align: right; margin-top: 30px;">ä½ é—ºå¥³</p>
            <p style="text-align: right;">ä¹™å·³å¹´å…ƒå¤œ</p>
        </div>
    </div>

    <!-- çƒŸèŠ±ç”»å¸ƒ -->
    <canvas id="fireworks"></canvas>

    <script>
        // æ–°å¢éŸ³é¢‘äº¤äº’é€»è¾‘
        const audio = document.getElementById('bgMusic');
        const audioPrompt = document.getElementById('audioPrompt');
        const letterContainer = document.getElementById('letterContainer');
        const fireworksCanvas = document.getElementById('fireworks');

        // ç‚¹å‡»æç¤ºåå¼€å§‹æ’­æ”¾
        audioPrompt.addEventListener('click', () => {
            audio.play()
                .then(() => {
                    audioPrompt.style.display = 'none';
                    letterContainer.style.display = 'block'; // æ˜¾ç¤ºä¿¡ä»¶å†…å®¹
                    fireworksCanvas.style.display = 'block'; // æ˜¾ç¤ºçƒŸèŠ±ç”»å¸ƒ
                    animate(); // å¼€å§‹çƒŸèŠ±åŠ¨ç”»
                })
                .catch(err => {
                    console.error('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', err);
                    audioPrompt.innerHTML = 'âŒ æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®';
                });
        });

        // å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆéƒ¨åˆ†æµè§ˆå™¨æ”¯æŒï¼‰
        window.addEventListener('DOMContentLoaded', () => {
            audio.play().catch(() => {
                // è‡ªåŠ¨æ’­æ”¾å¤±è´¥æ—¶æ˜¾ç¤ºæç¤º
                audioPrompt.style.display = 'block';
            });
        });

        // ä¼˜åŒ–åçš„çƒŸèŠ±è„šæœ¬
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.alpha = 0.9;  // åˆå§‹é€æ˜åº¦æé«˜
                this.baseColor = Math.random() * 360;
                this.color = `hsla(${this.baseColor}, 100%, 70%, ${this.alpha})`;
                this.velocity = {
                    x: (Math.random() - 0.5) * 5,
                    y: (Math.random() - 0.5) * 5
                };
                this.size = Math.random() * 3 + 1;
                this.decay = 0.015; // å¢åŠ æ¶ˆå¤±é€Ÿåº¦
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }

            update() {
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= this.decay;  // ä½¿ç”¨åŠ¨æ€æ¶ˆå¤±é€Ÿåº¦
                this.color = `hsla(${this.baseColor}, 80%, 70%, ${this.alpha})`;
                this.size *= 0.98;  // æ·»åŠ ç²’å­æ”¶ç¼©æ•ˆæœ
                this.draw();
            }
        }

        let particles = [];
        function createFirework() {
            const x = Math.random() * canvas.width * 0.8 + canvas.width * 0.1;
            const y = Math.random() * canvas.height * 0.6 + canvas.height * 0.2;
            for (let i = 0; i < 30; i++) {  // è¿›ä¸€æ­¥å‡å°‘ç²’å­æ•°é‡
				particles.push(new Particle(x, y));
			}
		}
	
		function animate() {
			// ä½¿ç”¨æ›´æ·¡çš„èƒŒæ™¯æ¸…é™¤æ–¹å¼
			ctx.fillStyle = 'rgba(0, 0, 0, 0.08)';
			ctx.fillRect(0, 0, canvas.width, canvas.height);
			
			// ä»åå¾€å‰éå†é¿å…ç´¢å¼•é—®é¢˜
			for (let i = particles.length - 1; i >= 0; i--) {
				particles[i].update();
				if (particles[i].alpha <= 0 || particles[i].size <= 0.5) {
					particles.splice(i, 1);
				}
			}
			
			// æ·»åŠ æ—¶é—´é—´éš”æ§åˆ¶
			if (Math.random() < 0.015) createFirework(); // è¿›ä¸€æ­¥é™ä½ç”Ÿæˆé¢‘ç‡
			requestAnimationFrame(animate);
		}
	
		animate();
	
		// çª—å£å¤§å°æ”¹å˜æ—¶é‡ç½®ç”»å¸ƒ
		window.addEventListener('resize', () => {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		});
	</script>
</body>
</html>
